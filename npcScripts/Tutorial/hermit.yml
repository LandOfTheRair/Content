
tag: Tutorial Hermit
name: Hermit
hostility: Never
affiliation: Drakkarian Hermit

items:
  gear:
    rightHand: Tutorial Yeti Skull
    leftHand: Tutorial Key
    Armor: Antanian Tunic

dialog:
  keyword:  # may be superfluous, not sure yet

    hello:
      actions:
        - type: checkItem
          slot:    # priority - if right hand matches, then right hand. otherwise, check left hand. otherwise, check fails
            - rightHand
            - leftHand
          item: 
            - name: Tutorial Yeti Skull
              amount: 1 # implied
              owner: "{{ player.name }}" # again, not sure on player name syntax. there will also need to be arbitrary checks for stats and other related item stuff.

          checkPassActions:
            - type: takeItem
              slot:
                - rightHand
                - leftHand
              item:
                - name: Tutorial Yeti Skull
                  amount: 1 # implied
                  owner: "{{ player.name }}" # will need to make sure it doesn't take unowned ones

            - type: giveItem
              slot:
                - rightHand
                - leftHand
              item:
                - name: Tutorial Key
                  amount: 1 # implied. if we wanted to give more keys, we would have to specify sack, pouch, or belt as a target. 

            - type: chat
              message: >
                Ah, thank you {{ player.name }}! I see you've brought me the skull of the feared yeti. 
                Here, you can have this key. Now go out into the world and do great things!

              options:
                - text: OK
                  action: noop # would point to dialog/keyword/noop if existed. no-op if it doesn't exist

          checkFailActions:
            - type: chat
              message: >
                Hello and welcome to The Land of the Rair, {{ player.name }}! It looks like you're stuck in here with me. 
                But fret not, I can HELP you!

              options:
                - text: No thanks
                  action: noop

                - text: How can you help?
                  action: help

    help:
      actions:
        - type: chat
          message: >
            Yes, I can help you, and you can help me. If you kill the nearby YETI and bring me his SKULL - just hold it in your right hand. 
            If ya do that, I can give you a KEY to let you out of here. I can also help you find the PROFESSION trainers. 

          options:
            - text: I'm leaving now
              action: noop

            - text: What yeti?
              action: yeti

            - text: A skull?
              action: skull

            - text: Your key?
              action: key

            - text: Profession trainers?
              action: profession

    yeti:
      actions:
        - type: chat
          message: >
            Yes, yes. There is a yeti in the forest to the east. He plagues this small town, and no one would miss him if he were to, erm, expire. 
            You may want to dedicate to a PROFESSION before taking him on, though. 

          options:
            - text: I'm not a killer
              action: noop

            - text: A profession?
              action: profession

    skull:
      actions:
        - type: chat
          message: >
            Yeti skulls happen to be a prized item in these parts. No, I'm not some sort of weirdo! I'll trade you a KEY for his skull. 
            Just hold it in your hand, and greet me again! Note also that the skull must BELONG to you!

          options:
            - text: This is pretty weird
              action: noop

            - text: A key for what?
              action: key

            - text: Belong to me?
              action: belong

    belong:
      actions:
        - type: chat
          message: >
            Yes, yes. Some items have a faint warm sensation upon grasping them. 
            It truly is a strange phenomena, but it means that you own that item, and no one else can use it. 
            That's how I'll know you've completed your trial!

          options:
            - text: Interesting...
              action: noop

    key:
      actions:
        - type: chat
          message: >
            Yes, I'm willing to trade this key for the Yeti's skull. A small price for your freedom, wouldn't you say?

          options:
            - text: It's not that bad in here
              action: noop

            - text: I'll get you a skull
              action: noop

    profession:
      actions:
        - type: giveEffect
          effect: TrueSight
          duration: 100
          # will need other properties eventually

        - type: chat
          message: >
            Here you go! Best of luck on finding them. They're holed up right outside here, a bit north. See if you can find them!

          options:
            - text: Thanks, I will
              action: noop
